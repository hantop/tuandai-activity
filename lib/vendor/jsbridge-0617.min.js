!function(a){function b(){var a=!1;return navigator.userAgent.match(/(iPad|iPhone)/)?a=!0:navigator.userAgent.match(/(Android)/)&&(a=!1),a}function c(a,b){a=a.replace(/\s+/g,"");var c=new RegExp(b+"=([^;]+);"),d=a.match(c);return d?d[1]:""}function d(a){window.WebViewJavascriptBridge?a(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){a(WebViewJavascriptBridge)},!1)}function e(b,c,d){a.WebViewJavascriptBridge.callHandler(b,c,function(a){d&&"function"==typeof d&&d(a)})}var f=function(){};f.prototype={constructor:f,getVersion:function(){navigator.userAgent},toAppLogin:function(){try{b()?("function"==typeof ToAppIosLogin&&ToAppIosLogin(),"function"==typeof ToAppLogin&&ToAppLogin()):e("ToAppLogin",null)}catch(a){console.info("不支持jsbridge",a)}},toAppRegister:function(){try{b()?("function"==typeof ToAppIosRegister&&ToAppIosRegister(),"function"==typeof ToAppRegister&&ToAppRegister()):e("ToAppRegister",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMainPage:function(){try{b()?("function"==typeof ToAppIosMainPage&&ToAppIosMainPage(),"function"==typeof ToAppHomePage&&ToAppHomePage()):(e("ColseWeb",null),e("ToAppHomePage",null))}catch(a){console.info("不支持jsbridge",a)}},toAppInvestList:function(){console.info(typeof ToAppIosInvest);try{b()?("function"==typeof ToAppIosInvest&&ToAppIosInvest(),"function"==typeof ToAppScatteredList&&ToAppScatteredList()):(e("ToAppInvestList",null),e("ToAppScatteredList",null))}catch(a){console.info("不支持jsbridge",a)}},toAppInvestDetails:function(a,c,d,f,g){try{if(b())"function"==typeof ToAppIosProjectDetail&&(console.info("11111"),ToAppIosProjectDetail(a,c,d,f,g)),"function"==typeof ToAppScatteredDetails&&(console.info("222222222"),ToAppScatteredDetails(a,c,d,f,g));else{var h={Id:a,TypeId:c,SubTypeId:d,ProfitTypeId:f,XmbSubType:g};e("InvestProjectDetails",h),e("ToAppScatteredDetails",h)}}catch(i){console.info("不支持jsbridge",i)}},toAppLoan:function(){try{b()?("function"==typeof ToAppIosBorrow&&ToAppIosBorrow(),"function"==typeof ToAppApplyForAssets&&ToAppApplyForAssets()):(e("ToAppLoan",null),e("ToAppApplyForAssets",null))}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvest:function(){try{b()?("function"==typeof ToAppIosMyInvest&&ToAppIosMyInvest(),"function"==typeof ToAppMyInvestment&&ToAppMyInvestment()):(e("InvestListActivity",null),e("ToAppMyInvestment",null))}catch(a){console.info("不支持jsbridge",a)}},toAppMyInvestDetail:function(a,c,d,f,g,h){try{if(b())"function"==typeof ToAppIosInvestDetail&&ToAppIosInvestDetail(a,c,d,f,g,h),"function"==typeof ToAppMyInvestmentDetails&&ToAppMyInvestmentDetails(a,c,d,f,g,h);else{var i={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:f,IsWePlanX:g};e("MyInvestDetail",i),e("ToAppMyInvestmentDetails",i)}}catch(j){console.info("不支持jsbridge",j)}},toAppTBX:function(){try{b()?("function"==typeof ToAppIosTreasurChest&&ToAppIosTreasurChest(),"function"==typeof ToAppTreasureChest&&ToAppTreasureChest()):(e("ToAppTBX",null),e("ToAppTreasureChest",null))}catch(a){console.info("不支持jsbridge",a)}},toAppCashRedPacket:function(){try{b()?("function"==typeof ToAppIosCashBonus&&ToAppIosCashBonus(),"function"==typeof ToAppCashBonus&&ToAppCashBonus()):(e("ToAppCashRedPacket",null),e("ToAppCashBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppOrdinaryRedPacket:function(){try{b()?("function"==typeof ToAppIosInvestBonus&&ToAppIosInvestBonus(),"function"==typeof ToAppInvestBonus&&ToAppInvestBonus()):(e("ToAppOrdinaryRedPacket",null),e("ToAppInvestBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppKasiRedPacket:function(){try{b()?("function"==typeof ToAppIosAddRateCoupon&&ToAppIosAddRateCoupon(),"function"==typeof ToAppRateIncreaseBonus&&ToAppRateIncreaseBonus()):(e("ToAppKasiRedPacket",null),e("ToAppRateIncreaseBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppWithdrawalRoll:function(){try{b()?("function"==typeof ToAppIosWithdrawalCoupon&&ToAppIosWithdrawalCoupon(),"function"==typeof ToAppReflectBonus&&ToAppReflectBonus()):(e("ToAppWithdrawalRoll",null),e("ToAppReflectBonus",null))}catch(a){console.info("不支持jsbridge",a)}},toAppRebateRedPacket:function(){try{b()?ToAppIosDeductionCoupon():e("ToAppRebateRedPacket",null)}catch(a){console.info("不支持jsbridge",a)}},toAppSingInRoll:function(){try{b()?("function"==typeof ToAppIosAdCard&&ToAppIosAdCard(),"function"==typeof ToAppSignInCard&&ToAppSignInCard()):(e("ToAppSingInRoll",null),e("ToAppSignInCard",null))}catch(a){console.info("不支持jsbridge",a)}},toAppPresent:function(){try{b()?("function"==typeof ToAppIosBoutiqueGift&&ToAppIosBoutiqueGift(),"function"==typeof ToAppExquisiteGift&&ToAppExquisiteGift()):(e("ToAppPresent",null),e("ToAppExquisiteGift",null))}catch(a){console.info("不支持jsbridge",a)}},toAppRecharge:function(){try{b()?("function"==typeof ToAppIosRecharge&&ToAppIosRecharge(),"function"==typeof ToAppTopUp&&ToAppTopUp()):(e("ToAppRecharge",null),e("ToAppTopUp",null))}catch(a){console.info("不支持jsbridge",a)}},toAppSecurityCenter:function(){try{b()?("function"==typeof ToAppIosSaftCenter&&ToAppIosSaftCenter(),"function"==typeof ToAppSecurityCenter&&ToAppSecurityCenter()):e("ToAppSecurityCenter",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMobileVerify:function(){try{b()?("function"==typeof ToAppIosPhoneValidtion&&ToAppIosPhoneValidtion(),"function"==typeof ToAppPhoneVerification&&ToAppPhoneVerification()):(e("ToAppMobileVerify",null),e("ToAppPhoneVerification",null))}catch(a){console.info("不支持jsbridge",a)}},toAppIdentityVerify:function(){try{b()?("function"==typeof ToAppIosAuthenticationCode&&ToAppIosAuthenticationCode(),"function"==typeof ToAppIDVerification&&ToAppIDVerification()):(e("ToAppIdentityVerify",null),e("ToAppIDVerification",null))}catch(a){console.info("不支持jsbridge",a)}},toAppPersonalCenter:function(){try{b()?("function"==typeof ToAppIosMyTreasure&&ToAppIosMyTreasure(),"function"==typeof ToAppMy&&ToAppMy()):(e("ToAppPersonalCenter",null),e("ToAppMy",null))}catch(a){console.info("不支持jsbridge",a)}},toAppInviteFriend:function(){try{b()?("function"==typeof ToAppIosInviteFriend&&ToAppIosInviteFriend(),"function"==typeof ToAppInvitedShare&&ToAppInvitedShare()):(e("ToAppInviteFriend",null),e("ToAppInvitedShare",null))}catch(a){console.info("不支持jsbridge",a)}},toActivityAppInviteFriend:function(){try{b()?("function"==typeof ToAppIosActivityShare&&ToAppIosActivityShare(),"function"==typeof ToAppActivitiesShare&&ToAppActivitiesShare()):(e("ToActivityAppInviteFriend",null),e("ToAppActivitiesShare",null))}catch(a){console.info("不支持jsbridge",a)}},ToAppActivity:function(a){if(2==a||3==a)return void console("参数错误！");try{if(b())"function"==typeof ToAppActivity&&ToAppActivity(a);else{var c={FunctionType:a};e("ToAppActivity",c)}}catch(d){console.info("不支持jsbridge",d)}},toAppWePlan:function(){try{b()?("function"==typeof ToAppIosWePlan&&ToAppIosWePlan(),"function"==typeof ToAppWePlanList&&ToAppWePlanList()):(e("ToAppWEInvestList",null),e("ToAppWePlanList",null))}catch(a){console.info("不支持jsbridge",a)}},toAppWePlanDetail:function(a,c,d){try{if(b())"function"==typeof ToAppIosWePlanProjectDetail&&ToAppIosWePlanProjectDetail(a),"function"==typeof ToAppWePlanDetails&&ToAppWePlanDetails(a);else{var f={ProductId:a,TypeId:c,SubTypeId:d};e("WXInvestDetail",f),e("ToAppWePlanDetails",f)}}catch(g){console.info("不支持jsbridge",g)}},toAppFind:function(){try{b()?ToAppFind():e("ToAppFind",null)}catch(a){console.info("不支持jsbridge",a)}},toAppBeginnersArea:function(){try{b()?ToAppBeginnersArea():e("ToAppBeginnersArea",null)}catch(a){console.info("不支持jsbridge",a)}},toAppPublicNoticeList:function(){try{b()?ToAppPublicNoticeList():e("ToAppPublicNoticeList",null)}catch(a){console.info("不支持jsbridge",a)}},toAppPublicNoticeDetails:function(a){try{if(b())ToAppPublicNoticeDetails();else{var c={id:a};e("ToAppPublicNoticeDetails",c)}}catch(d){console.info("不支持jsbridge",d)}},toAppSystemMessagesList:function(){try{b()?ToAppSystemMessagesList():e("ToAppSystemMessagesList",null)}catch(a){console.info("不支持jsbridge",a)}},toAppSystemMessagesDetails:function(a){try{if(b())ToAppSystemMessagesDetails();else{var c={id:a};e("ToAppSystemMessagesDetails",c)}}catch(d){console.info("不支持jsbridge",d)}},toAppIWantBorrow:function(){try{b()?ToAppIWantBorrow():e("ToAppIWantBorrow",null)}catch(a){console.info("不支持jsbridge",a)}},toAppFeedBack:function(){try{b()?ToAppFeedBack():e("ToAppFeedBack",null)}catch(a){console.info("不支持jsbridge",a)}},toAppTuandaiBBS:function(a,c){try{if(b())ToAppTuandaiBBS(a,c);else{var d={title:a,url:c};e("ToAppTuandaiBBS",d)}}catch(f){console.info("不支持jsbridge",f)}},toAppAutoBid:function(){try{b()?ToAppAutoBid():e("ToAppAutoBid",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyBorrowing:function(){try{b()?ToAppMyBorrowing():e("ToAppMyBorrowing",null)}catch(a){console.info("不支持jsbridge",a)}},toAppMyBorrowingDetails:function(a,c,d,f,g,h){try{if(b())ToAppMyBorrowingDetails(a,c,d,f,g,h);else{var i={ProjectId:a,Type:c,InvestId:d,ProfitTypeId:f,IsWePlanX:g};e("ToAppMyBorrowingDetails",i)}}catch(j){console.info("不支持jsbridge",j)}},toAppWePlanList:function(){try{b?ToAppWePlanList():e("ToAppWePlanList",null)}catch(a){console.info("不支持jsbridge",a)}},ToAppDebtCollectionCalendar:function(){try{b?ToAppWePlanList():e("ToAppWePlanList",null)}catch(a){console.info("不支持jsbridge",a)}},appPlayMusic:function(a){try{if(b())ToAppIosPlayMusic(a);else{var c={url:a};e("WebViewOnPlayMusic",c)}}catch(d){console.info("不支持jsbridge",d)}},appStopMusic:function(){try{b()?ToAppIosStopMusic():e("WebViewOnPauseMusic",null)}catch(a){console.info("不支持jsbridge",a)}},exec:function(a,c,d,f){try{b()?console.log("ios 暂时没有这个方法"):(console.log("android-func"),e(c,d,f))}catch(g){console.info("不支持jsbridge",g)}},isNewVersion:function(){var a=navigator.userAgent,b=a.match(/\[([^\[\]]*)\]/);if(b&&b[1]){var c=b[1].split("_"),d=c[0]+c[1];return!(!(c&&c[c.length-1]>="4.3.4")||"tuandaiappandroid"!=d&&"tuandaiappIOS"!=d)}return!1},isDisable:function(){var a=navigator.userAgent,b=a.match(/\[([^\[\]]*)\]/);if(b&&b[1]){var c=b[1].split("_"),d=c[0]+c[1];return c&&"4.3.5"==c[c.length-1]&&("tuandaiappandroid"==d||"tuandaiappIOS"==d)}return!1},actLogin:function(a,b,c,d){$.ajax({url:a,data:{appActivityToken:b},dataType:"json",type:"post",success:function(a){console.info("result---login----",a),c&&"function"==typeof c&&(arguments[0]=a,c.apply(this,arguments))},error:function(a){d&&"function"==typeof d&&(arguments[0]=a,d.apply(this,arguments))}})},appLifeHook:function(e,f,g,h,i){b()?(window.ToAppIosPostLoginToken=function(a){if(f&&"function"==typeof f){if(JSON.parse(a)&&JSON.parse(a).ReturnCode)arguments[0]=a;else{var b={Token:c(a,"Token"),ReturnCode:c(a,"ReturnCode"),ReturnMessage:c(a,"ReturnMessage"),Data:{LoginToken:c(a,"LoginToken")}};arguments[0]=JSON.stringify(b)}f.apply(this,arguments)}},a.ToAppLifeCycle=function(a){1==a?g&&"function"==typeof g&&g.apply(this,arguments):2==a&&h&&"function"==typeof h&&h.apply(this,arguments)}):d(function(a){try{window.WebViewJavascriptBridge._messageHandler||a.init(function(a,b){console.log("JS got a message",a);var c={"Javascript Responds":"测试中文!"};console.log("JS responding with",c),e&&(arguments[0]=a,e.apply(this,arguments)),b(c)})}catch(b){console.error("jsbridge-----error--",b)}a.registerHandler("LoginToken",function(a,b){var c="Javascript Says Right back aka!";f&&"function"==typeof f&&(arguments[0]=a,f.apply(this,arguments)),b(c)}),a.registerHandler("WebonResume",function(a,b){var c="Javascript Says Right back aka!";g&&"function"==typeof g&&(arguments[0]=a,g.apply(this,arguments)),b(c)}),a.registerHandler("WebonPause",function(a,b){var c="Javascript Says Right back aka!";h&&"function"==typeof h&&(arguments[0]=a,h.apply(this,arguments)),b(c)}),a.registerHandler("WebonDestroy",function(a,b){var c="Javascript Says Right back aka!";i&&"function"==typeof i&&(arguments[0]=a,i.apply(this,arguments)),b(c)})})}};var g=new f;a.Jsbridge=g}(window);